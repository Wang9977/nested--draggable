(function(e){function t(t){for(var a,i,l=t[0],c=t[1],s=t[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/nested--draggable/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"094c":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("img",{attrs:{src:n("cf05")}}),a("router-view")],1)},o=[],i={name:"App"},l=i,c=(n("62ed"),n("2877")),s=Object(c["a"])(l,r,o,!1,null,null,null),u=s.exports,d=n("5c96"),p=n.n(d),f=n("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello-world"},[n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.addLabel}},[e._v("添加")])],1),n("div",[n("el-button",{attrs:{type:"primary"},on:{click:e.changeEdit}},[e._v("编辑反显")])],1),n("div",{staticClass:"wrapper"},[n("combine-area",{attrs:{isEdit:e.isEdit,initTreeData:e.treeData}})],1)])},v=[],h=(n("14d9"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tree-condition",{key:e.id,attrs:{tree:e.tree,level:0},on:{nodeChange:e.nodeChange}})}),b=[],_=(n("4de4"),n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"tree-condition",class:e.level>0?"tree-display__bg":""},[e.level&&e.genTree.tags.length?n("div",{staticClass:"tree-condition__head"},[n("div",{staticClass:"tree-condition__head__title"},[e._v("条件组")]),n("div",{on:{click:function(t){return e.onDelGroup(e.genTree.tags)}}},[e._v("删除")])]):e._e(),n("div",{staticClass:"tree-display"},[e.genTree.tags?[e.genTree.tags.length>1?n("div",{staticClass:"tree-display__op"},[n("i",{staticClass:"op-line"}),n("div",{staticClass:"op-name",on:{click:e.changeOpt}},[e._v(e._s(e.genTree.operator))])]):e._e(),n("div",{staticClass:"tree-display__list"},[n("draggable",e._b({staticClass:"drag-wrapper",attrs:{value:e.genTree.tags||[]},on:{input:function(t){return e.onInput(t,e.genTree,e.level)},add:function(t){return e.addComponent(t,e.genTree.tags,e.level)},remove:function(t){return e.removeComponent(t,e.genTree.tags,e.level)}}},"draggable",e.dragOption,!1),e._l(e.genTree.tags,(function(t,a){return n("div",{key:t.level+""+a},[t.tags&&t.tags.length?n("TreeCondition",{attrs:{tree:t,level:e.level+1},on:{nodeChange:e.nodeChange}}):n("div",{staticClass:"tag-item"},[n("single-card",{attrs:{tree:e.genTree,tag:t,index:a,closable:!1},on:{onExpand:e.onExpand,onDel:e.onDel}})],1)],1)})),0)],1)]:e.genTree.tags?e._e():[n("single-card",{attrs:{tree:e.tree,tag:e.tree,closable:!1},on:{onDel:e.onDel}})]],2)])}),m=[],T=(n("a9e3"),n("159b"),n("c740"),n("a434"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"single-card",class:e.tag.level>0?"single-card__bg":""},[n("div",{staticClass:"single-card__head"},[n("div",{staticClass:"single-card__head__title"},[e._v(e._s(e.labelName))]),n("div",{staticClass:"single-card__head__opt"},[e.tag.level?e._e():n("p",{on:{click:e.toExpand}},[e._v("扩展")]),n("p",{staticStyle:{"margin-left":"10px"},on:{click:e.toDel}},[e._v("删除")])])]),n("div",{staticClass:"desc"},[e._v(" "+e._s(e.labelDesc))])])}),C=[],O=n("5530"),j=(n("b0c0"),n("ed09")),y={name:"SingleCard",props:{tag:Object,tree:Object},setup:function(e,t){var n=Object(j["a"])((function(){return e.tag.name})),a=Object(j["a"])((function(){return e.tag.valueDesc})),r=function(){t.emit("onExpand",Object(O["a"])(Object(O["a"])({},e.tag),{},{level:1}))},o=function(){t.emit("onDel",e.tag)};return{labelDesc:a,labelName:n,toExpand:r,toDel:o}}},x=y,D=(n("aff1"),Object(c["a"])(x,T,C,!1,null,"4b7dd939",null)),E=D.exports,k=n("b76a"),w=n.n(k),$=(n("2ef0"),{name:"TreeCondition",components:{SingleCard:E,TreeCondition:void 0,Draggable:w.a},props:{tree:Object,level:Number},data:function(){return{groupId:1,localTree:this.tree}},computed:{dragOption:function(){return{animation:50,group:{name:"1",pull:!0,put:!0},ghostClass:"ghost"}},genTree:function(){return this.tree}},methods:{onInput:function(e,t,n){var a=this;this.$nextTick((function(){a.localTree.tags=e,a.$emit("nodeChange",a.localTree)}))},changeOpt:function(){this.localTree.operator="且"===this.localTree.operator?"或":"且"},onExpand:function(e){var t,n,a=this;null===(t=this.localTree)||void 0===t||null===(n=t.tags)||void 0===n||n.forEach((function(t,n){t.uid!==e.uid||t.level||(a.localTree.tags[n]={level:1,operator:"",tags:[e]})})),this.localTree.groupId=this.groupId,this.$nextTick((function(){a.$emit("nodeChange",a.localTree)})),this.groupId++},onDel:function(e){var t=this;this.$nextTick((function(){var n,a,r=null===(n=t.localTree)||void 0===n||null===(a=n.tags)||void 0===a?void 0:a.findIndex((function(t){return t.uid===e.uid}));r>-1&&t.localTree.tags.splice(r,1),t.$emit("nodeChange",t.tree)}))},onDelGroup:function(e){var t=this;e.forEach((function(e){return t.onDel(e)}))},nodeChange:function(e){var t=this;this.$nextTick((function(){t.$emit("nodeChange",t.tree)}))},addComponent:function(e,t,n){1===n?(t.forEach((function(e){return e.level=n})),this.localTree.operator="且"):0===n&&(this.$nextTick((function(){var e=t.findIndex((function(e){var t;return 0===(null===e||void 0===e||null===(t=e.tags)||void 0===t?void 0:t.length)}));e>-1&&t.splice(e,1)})),this.tree.tags.forEach((function(e){return e.level=n})))},removeComponent:function(e,t,n){}}}),I=$,S=(n("882f"),Object(c["a"])(I,_,m,!1,null,"39c99cfb",null)),P=S.exports,M={components:{TreeCondition:P},props:{initTreeData:Object,isEdit:Boolean},setup:function(e,t){var n=null!==e&&void 0!==e&&e.initTreeData?Object(j["c"])(e.initTreeData):Object(j["c"])(treeData),a=Object(j["d"])(1),r=function(e){var t;if(null!==e&&void 0!==e&&null!==(t=e.tags)&&void 0!==t&&t.length){var r,o=null===e||void 0===e||null===(r=e.tags)||void 0===r?void 0:r.filter((function(e){return!(e.tags&&!e.tags.length&&1===e.level)}));n.tags=o}else n={};a.value+=1};return{id:a,tree:n,nodeChange:r,dragOption:{animation:50,group:{name:"1",pull:!1,put:!0},ghostClass:"ghost"}}}},N=M,A=Object(c["a"])(N,h,b,!1,null,null,null),G=A.exports,H={name:"HelloWorld",components:{CombineArea:G},setup:function(){var e=Object(j["c"])({level:0,operator:"且",tags:[]}),t=Object(j["d"])(0),n=function(){var n={uid:t.value,name:"卡片"+t.value,valueDesc:"卡片详细信息"};t.value++,e.tags.push(n)},a=Object(j["d"])(!1),r=function(){a.value=!a.value,a.value&&(e.tags=[],e.tags=treeDataMock.tags,e.operator=treeDataMock.operator)};return{treeData:e,isEdit:a,addLabel:n,changeEdit:r}}},J=H,L=(n("e02d"),Object(c["a"])(J,g,v,!1,null,"58b40c2a",null)),W=L.exports;a["default"].use(f["a"]);var B=new f["a"]({routes:[{path:"/",name:"HelloWorld",component:W}]});a["default"].config.productionTip=!1,a["default"].use(j["b"]),a["default"].use(p.a),new a["default"]({router:B,render:function(e){return e(u)}}).$mount("#app")},"62ed":function(e,t,n){"use strict";n("8b7c")},"882f":function(e,t,n){"use strict";n("d366")},"8b7c":function(e,t,n){},aff1:function(e,t,n){"use strict";n("094c")},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},d366:function(e,t,n){},e02d:function(e,t,n){"use strict";n("f85d")},f85d:function(e,t,n){}});
//# sourceMappingURL=app.df1e7d26.js.map